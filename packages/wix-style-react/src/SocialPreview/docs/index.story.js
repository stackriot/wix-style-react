import React from 'react';
import {
  header,
  tabs,
  tab,
  description,
  importExample,
  divider,
  code as baseCode,
  playground,
  api,
  testkit,
  doDont,
} from 'wix-storybook-utils/Sections';

import { storySettings } from '../test/storySettings';
import allComponents from '../../../stories/utils/allComponents';

import SocialPreview from '..';
import ImageViewer from '../../ImageViewer';

import { basicExample, sizeExample, skinExample } from './examples';

const code = config => baseCode({ components: allComponents, ...config });

const mediaNode = (
  <ImageViewer
    width="100%"
    height="100%"
    imageUrl="https://upload.wikimedia.org/wikipedia/commons/d/dd/New_Mela_Ramanputhur_Holy_Family_Church.jpg"
    removeRoundedBorders
  />
);

export default {
  category: storySettings.category,
  storyName: 'SocialPreview',

  component: SocialPreview,
  componentPath: '..',

  componentProps: {
    title: 'Site Name | a title of your site',
    description: 'A short description for a site',
    previewUrl: 'www.site-name.com',
    media: mediaNode,
    skin: 'social',
    size: 'large',
  },

  sections: [
    header({
      sourceUrl: `https://github.com/wix/wix-style-react/tree/master/src/${SocialPreview.displayName}/`,
    }),

    tabs([
      tab({
        title: 'Description',
        sections: [
          description({
            title: 'Description',
            text:
              'Social Preview allows users to see what information will be displayed once the URL address is shared on social media platforms.',
          }),

          doDont({
            do: {
              title: 'Use it',
              list: [
                'Use it when the site owner needs to preview how page information will be displayed on social media. ',
              ],
            },
            dont: {
              title: `Dont't use it`,
              list: [
                'Don’t use it as any other kind of preview for user-generated content.',
                'Don’t use it instead of the GooglePreview component.',
                'Don’t use it as an image preview.',
              ],
            },
          }),

          importExample("import { SocialPreview } from 'wix-style-react'"),

          divider(),

          code({
            title: 'Basic example',
            description:
              'A SocialPreview component will usually contain a media ImageViewer component',
            source: basicExample,
          }),
          code({
            title: 'Size',
            description: `Choose the size of the preview from:
              large - use for a preview generated by common social media platforms. 
              small - use as alternative size for the Twitter platform only.`,
            source: sizeExample,
          }),
          code({
            title: 'Skin',
            description: `Description: Render preview for different social media platforms:
              social - use for a preview generated by common social media platforms. 
              twitter - use to display a specific preview for twitter social media platform only.`,
            source: skinExample,
          }),
        ],
      }),

      ...[
        { title: 'API', sections: [api()] },
        { title: 'Testkit', sections: [testkit()] },
        { title: 'Playground', sections: [playground()] },
      ].map(tab),
    ]),
  ],
};
